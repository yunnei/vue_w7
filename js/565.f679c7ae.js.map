{"version":3,"file":"js/565.f679c7ae.js","mappings":"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","sources":["webpack://vue_w7/./src/views/AdminProducts.vue","webpack://vue_w7/./src/components/ProductModal.vue","webpack://vue_w7/./src/components/ProductModal.vue?b0ff","webpack://vue_w7/./src/views/AdminProducts.vue?cec0"],"sourcesContent":["<template>\n  <v-loading :active=\"isLoading\" loader=\"dots\" :z-index=\"1000\"></v-loading>\n  <div class=\"container py-4\">\n    <h2>產品列表</h2>\n    <div class=\"text-end\">\n      <button\n        type=\"button\"\n        class=\"btn btn-primary\"\n        @click=\"openProductModal('new')\"\n      >\n        + 新增產品\n      </button>\n    </div>\n    <table class=\"table table-hover mt-3 align-middle\">\n      <thead>\n        <tr>\n          <th width=\"30%\">產品名稱</th>\n          <th class=\"text-end\">原價</th>\n          <th class=\"text-end\">售價</th>\n          <th width=\"24%\" class=\"text-center\">是否啟用</th>\n          <th class=\"text-center\">編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"product in products\" :key=\"product.id\">\n          <td>{{ product.title }}</td>\n          <td class=\"text-end\">{{ product.origin_price }}</td>\n          <td class=\"text-end\">{{ product.price }}</td>\n          <td class=\"text-center\">\n            <div class=\"form-check form-switch d-flex justify-content-center\">\n              <input\n                class=\"form-check-input me-1\"\n                type=\"checkbox\"\n                role=\"switch\"\n                :id=\"product.id\"\n                v-model=\"product.is_enabled\"\n                :true-value=\"1\"\n                :false-value=\"0\"\n                @change=\"updateIsEnabled(product)\"\n              />\n              <label\n                v-if=\"product.is_enabled\"\n                class=\"form-check-label\"\n                :for=\"product.id\"\n                >啟用</label\n              >\n              <label\n                v-else\n                class=\"form-check-label\"\n                for=\"flexSwitchCheckChecked\"\n                >不啟用</label\n              >\n            </div>\n          </td>\n          <td class=\"text-center\">\n            <button\n              type=\"button\"\n              class=\"btn btn-primary me-1\"\n              @click=\"openProductModal('edit', product)\"\n            >\n              編輯\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-danger\"\n              @click=\"openProductModal('del', product)\"\n            >\n              刪除\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <!-- 分頁 -->\n    <pagination :pagination=\"pagination\" @get-data=\"getProducts\"></pagination>\n    <!-- ProductModal -->\n    <product-modal\n      :product=\"productTemp\"\n      :is-new=\"isNew\"\n      @update-product=\"updateProduct\"\n      ref=\"productModal\"\n    ></product-modal>\n    <!-- DelModal -->\n    <del-modal\n      :item=\"productTemp\"\n      ref=\"delModal\"\n      @del-item=\"delProduct\"\n    ></del-modal>\n  </div>\n</template>\n\n<script>\nimport Modal from \"bootstrap/js/dist/modal\";\nimport Pagination from \"@/components/PaginationComponent.vue\";\nimport ProductModal from \"@/components/ProductModal.vue\";\nimport DelModal from \"@/components/DelModal.vue\";\n\nexport default {\n  components: {\n    Pagination,\n    ProductModal,\n    DelModal,\n  },\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      productModal: {},\n      delModal: {},\n      productTemp: {},\n      isNew: false,\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProducts(page = 1) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.isLoading = true;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.isLoading = false;\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        })\n        .catch((error) => {\n          this.$httpMessageState(error.response, error.response.data.message);\n          this.isLoading = false;\n        });\n    },\n    updateIsEnabled(product) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${product.id}`;\n      const data = { data: product };\n      this.isLoading = true;\n      this.$http\n        .put(url, data)\n        .then((res) => {\n          this.isLoading = false;\n          console.log(res.data);\n          this.$httpMessageState(res, `更新 ${product.title}`);\n        })\n        .catch((error) => {\n          this.$httpMessageState(error.response, error.response.data.message);\n          this.getProducts(this.pagination.current_page);\n          this.isLoading = false;\n        });\n    },\n    openProductModal(status, product) {\n      if (status === \"new\") {\n        this.isNew = true;\n        this.productTemp = {\n          imagesUrl: [],\n        };\n        this.productModal.show();\n      } else if (status === \"edit\") {\n        this.isNew = false;\n        this.productTemp = { ...product };\n        this.productModal.show();\n      } else if (status === \"del\") {\n        this.productTemp = { ...product };\n        this.delModal.show();\n      }\n    },\n    updateProduct() {\n      let url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.productTemp.id}`;\n      let http = `put`;\n      let msg = `更新 ${this.productTemp.title}`;\n      if (this.isNew) {\n        url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`;\n        http = `post`;\n        msg = `新增 ${this.productTemp.title}`;\n      }\n      const data = { data: this.productTemp };\n      this.$http[http](url, data)\n        .then((res) => {\n          this.$httpMessageState(res, msg);\n          this.productModal.hide();\n          this.getProducts(this.pagination.current_page);\n        })\n        .catch((error) => {\n          this.$httpMessageState(error.response, error.response.data.message);\n        });\n    },\n    delProduct() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.productTemp.id}`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          this.$httpMessageState(res, `刪除 ${this.productTemp.title}`);\n          this.getProducts(this.pagination.current_page);\n          this.delModal.hide();\n        })\n        .catch((error) => {\n          this.$httpMessageState(error.response, error.response.data.message);\n        });\n    },\n  },\n  mounted() {\n    this.getProducts();\n    this.productModal = new Modal(this.$refs.productModal.modal);\n    this.delModal = new Modal(this.$refs.delModal.modal);\n  },\n};\n</script>\n","<template>\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-dark\">\n          <h5 class=\"modal-title text-white\" id=\"exampleModalLabel\">\n            <span v-if=\"isNew\">新增產品</span>\n            <span v-else>編輯產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-4\">\n              <div class=\"mb-3\">\n                <label for=\"imageUrl\" class=\"form-label h5\">主要圖片</label>\n                <div class=\"input-group mb-2\">\n                  <input\n                    type=\"text\"\n                    id=\"imageUrl\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入圖片連結\"\n                    v-model=\"productTemp.imageUrl\"\n                  />\n                  <button\n                    class=\"btn btn-outline-danger\"\n                    type=\"button\"\n                    @click=\"productTemp.imageUrl = ''\"\n                  >\n                    刪除\n                  </button>\n                </div>\n                <div class=\"input-group mb-3\">\n                  <input\n                    v-if=\"!productTemp.imageUrl\"\n                    type=\"file\"\n                    class=\"form-control\"\n                    @change=\"uploadImage(true, $event)\"\n                  />\n                </div>\n                <img :src=\"productTemp.imageUrl\" class=\"img-fluid\" />\n              </div>\n              <p class=\"h5\">多圖新增</p>\n              <div v-if=\"productTemp.imagesUrl\">\n                <div\n                  v-for=\"(image, key) in productTemp.imagesUrl\"\n                  :key=\"key\"\n                  class=\"mb-3\"\n                >\n                  <div class=\"input-group mb-2\">\n                    <input\n                      type=\"text\"\n                      id=\"imagesUrl\"\n                      class=\"form-control\"\n                      placeholder=\"請輸入圖片連結\"\n                      v-model=\"productTemp.imagesUrl[key]\"\n                    />\n                    <button\n                      class=\"btn btn-outline-danger\"\n                      type=\"button\"\n                      @click=\"productTemp.imagesUrl.splice(key, 1)\"\n                    >\n                      刪除\n                    </button>\n                  </div>\n                  <input\n                    v-if=\"!image\"\n                    type=\"file\"\n                    class=\"form-control\"\n                    @change=\"uploadImage(false, $event)\"\n                  />\n                  <img :src=\"image\" class=\"img-fluid\" />\n                </div>\n              </div>\n              <div>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-primary w-100\"\n                  @click=\"createImages\"\n                >\n                  + 新增圖片\n                </button>\n              </div>\n            </div>\n            <div class=\"col\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label h5\">產品名稱</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  placeholder=\"請輸入產品名稱\"\n                  v-model=\"productTemp.title\"\n                  required\n                />\n              </div>\n              <div class=\"row\">\n                <div class=\"col mb-3\">\n                  <label for=\"category\" class=\"form-label h5\">類別</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"category\"\n                    placeholder=\"請輸入產品類別\"\n                    v-model=\"productTemp.category\"\n                    required\n                  />\n                </div>\n                <div class=\"col mb-3\">\n                  <label for=\"unit\" class=\"form-label h5\">單位</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    placeholder=\"請輸入產品單位\"\n                    v-model=\"productTemp.unit\"\n                    required\n                  />\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col mb-3\">\n                  <label for=\"origin_price\" class=\"form-label h5\">原價</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    placeholder=\"請輸入產品原價\"\n                    v-model=\"productTemp.origin_price\"\n                    required\n                  />\n                </div>\n                <div class=\"col mb-3\">\n                  <label for=\"price\" class=\"form-label h5\">售價</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    placeholder=\"請輸入產品售價\"\n                    v-model=\"productTemp.price\"\n                    required\n                  />\n                </div>\n              </div>\n              <hr />\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label h5\">描述</label>\n                <textarea\n                  class=\"form-control\"\n                  id=\"description\"\n                  placeholder=\"請輸入產品描述\"\n                  v-model=\"productTemp.description\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label h5\">內容</label>\n                <textarea\n                  class=\"form-control\"\n                  id=\"content\"\n                  placeholder=\"請輸入產品內容\"\n                  v-model=\"productTemp.content\"\n                ></textarea>\n              </div>\n              <div class=\"form-check form-switch\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  role=\"switch\"\n                  id=\"is_enabled\"\n                  v-model=\"productTemp.is_enabled\"\n                  :true-value=\"1\"\n                  :false-value=\"0\"\n                />\n                <label\n                  v-if=\"productTemp.is_enabled\"\n                  class=\"form-check-label\"\n                  for=\"is_enabled\"\n                  >啟用</label\n                >\n                <label v-else class=\"form-check-label\" for=\"is_enabled\"\n                  >不啟用</label\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"updateProduct\">\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"product\", \"isNew\"],\n  data() {\n    return {\n      productTemp: {},\n      modal: {},\n    };\n  },\n  watch: {\n    product() {\n      this.productTemp = this.product;\n    },\n  },\n  methods: {\n    createImages() {\n      if (this.productTemp.imagesUrl) {\n        this.productTemp.imagesUrl.push(\"\");\n      } else {\n        this.productTemp.imagesUrl = [];\n        this.productTemp.imagesUrl.push(\"\");\n      }\n    },\n    uploadImage(isMain, e) {\n      const file = e.target.files[0];\n      const formData = new FormData();\n      formData.append(\"file-to-upload\", file);\n\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http\n        .post(url, formData)\n        .then((res) => {\n          if (isMain) {\n            this.productTemp.imageUrl = res.data.imageUrl;\n          } else {\n            this.productTemp.imagesUrl[this.productTemp.imagesUrl.length - 1] =\n              res.data.imageUrl;\n          }\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    },\n    updateProduct() {\n      this.$emit(\"updateProduct\", this.productTemp);\n    },\n  },\n  mounted() {\n    this.modal = this.$refs.modal;\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=5fd2dad9\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\OneDrive\\\\桌面\\\\vue_w7\\\\vue_w7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminProducts.vue?vue&type=template&id=0056357b\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\OneDrive\\\\桌面\\\\vue_w7\\\\vue_w7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","for","_createVNode","_component_v_loading","active","$data","loader","_hoisted_2","type","onClick","$options","_hoisted_5","_createElementBlock","_Fragment","_renderList","product","key","id","_toDisplayString","title","origin_price","price","role","is_enabled","$event","onChange","_hoisted_11","_hoisted_14","_hoisted_15","_component_pagination","pagination","onGetData","_component_product_modal","onUpdateProduct","ref","_component_del_modal","item","onDelItem","tabindex","$props","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_13","placeholder","imageUrl","src","_hoisted_17","imagesUrl","_hoisted_18","image","splice","_hoisted_21","_hoisted_25","required","_hoisted_28","category","_hoisted_30","unit","_hoisted_33","min","_hoisted_35","_hoisted_36","_hoisted_38","description","_hoisted_40","content","_hoisted_45","props","data","productTemp","modal","watch","this","methods","createImages","push","uploadImage","isMain","e","file","target","files","formData","FormData","append","url","$http","post","then","res","length","catch","error","console","log","response","updateProduct","$emit","mounted","$refs","__exports__","components","Pagination","ProductModal","DelModal","products","productModal","delModal","isNew","isLoading","getProducts","page","get","$httpMessageState","message","updateIsEnabled","put","current_page","openProductModal","status","show","http","msg","hide","delProduct","delete","Modal","render"],"sourceRoot":""}